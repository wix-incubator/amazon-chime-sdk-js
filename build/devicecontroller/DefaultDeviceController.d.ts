import AudioVideoController from '../audiovideocontroller/AudioVideoController';
import DeviceChangeObserver from '../devicechangeobserver/DeviceChangeObserver';
import Logger from '../logger/Logger';
import DeviceControllerBasedMediaStreamBroker from '../mediastreambroker/DeviceControllerBasedMediaStreamBroker';
import Device from './Device';
import DevicePermission from './DevicePermission';
import VideoQualitySettings from './VideoQualitySettings';
export default class DefaultDeviceController implements DeviceControllerBasedMediaStreamBroker {
    private logger;
    private static permissionGrantedOriginDetectionThresholdMs;
    private static permissionDeniedOriginDetectionThresholdMs;
    private static defaultVideoWidth;
    private static defaultVideoHeight;
    private static defaultVideoFrameRate;
    private static defaultVideoMaxBandwidthKbps;
    private static defaultSampleRate;
    private static defaultSampleSize;
    private static defaultChannelCount;
    private static audioContext;
    private readonly spectator;
    private deviceInfoCache;
    private activeDevices;
    private audioOutputDeviceId;
    private deviceChangeObservers;
    private boundAudioVideoController;
    private deviceLabelTrigger;
    private audioInputDestinationNode;
    private audioInputSourceNode;
    private videoInputQualitySettings;
    private useWebAudio;
    private inputDeviceCount;
    private lastNoVideoInputDeviceCount;
    private browserBehavior;
    constructor(logger: Logger, options?: {
        enableWebAudio?: boolean;
        spectator?: boolean;
    });
    listAudioInputDevices(): Promise<MediaDeviceInfo[]>;
    listVideoInputDevices(): Promise<MediaDeviceInfo[]>;
    listAudioOutputDevices(): Promise<MediaDeviceInfo[]>;
    chooseAudioInputDevice(device: Device): Promise<DevicePermission>;
    chooseVideoInputDevice(device: Device): Promise<DevicePermission>;
    chooseAudioOutputDevice(deviceId: string | null): Promise<void>;
    enableWebAudio(flag: boolean): void;
    addDeviceChangeObserver(observer: DeviceChangeObserver): void;
    removeDeviceChangeObserver(observer: DeviceChangeObserver): void;
    createAnalyserNodeForAudioInput(): AnalyserNode | null;
    startVideoPreviewForVideoInput(element: HTMLVideoElement): void;
    stopVideoPreviewForVideoInput(element: HTMLVideoElement): void;
    setDeviceLabelTrigger(trigger: () => Promise<MediaStream>): void;
    mixIntoAudioInput(stream: MediaStream): MediaStreamAudioSourceNode;
    chooseVideoInputQuality(width: number, height: number, frameRate: number, maxBandwidthKbps: number): void;
    getVideoInputQualitySettings(): VideoQualitySettings | null;
    acquireAudioInputStream(): Promise<MediaStream>;
    acquireVideoInputStream(): Promise<MediaStream>;
    acquireDisplayInputStream(streamConstraints: MediaStreamConstraints): Promise<MediaStream>;
    releaseMediaStream(mediaStreamToRelease: MediaStream | null): void;
    bindToAudioVideoController(audioVideoController: AudioVideoController): void;
    static createEmptyAudioDevice(): MediaStream;
    static createEmptyVideoDevice(): MediaStream | null;
    static synthesizeAudioDevice(toneHz: number): MediaStream;
    static synthesizeVideoDevice(colorOrPattern: string): MediaStream | null;
    private static fillSMPTEColorBars;
    private updateMaxBandwidthKbps;
    private listDevicesOfKind;
    private updateDeviceInfoCacheFromBrowser;
    private listCachedDevicesOfKind;
    private alreadyHandlingDeviceChange;
    private handleDeviceChange;
    private handleDeviceStreamEnded;
    private forEachObserver;
    private areDeviceListsEqual;
    private deviceAsMediaStream;
    private hasSameGroupId;
    private getGroupIdFromDeviceId;
    private getDeviceIdStr;
    private getActiveDeviceId;
    private restartLocalVideoAfterSelection;
    private chooseInputDevice;
    private handleNewInputDevice;
    private bindAudioOutput;
    private calculateMediaStreamConstraints;
    private deviceInfoFromDeviceId;
    private acquireInputStream;
    private attachAudioInputStreamToAudioContext;
    private getMediaStreamDestinationNode;
    static getAudioContext(): AudioContext;
    static closeAudioContext(): void;
    private supportSampleRateConstraint;
    private supportSampleSizeConstraint;
    private supportChannelCountConstraint;
    private trace;
}
